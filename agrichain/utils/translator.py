# ‚îÄ‚îÄ‚îÄ Translations: English keys ‚Üí Hindi / Marathi values ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

_HINDI = {
    # Navigation
    "AgriChain": "‡§è‡§ó‡•ç‡§∞‡•Ä‡§ö‡•á‡§®",
    "Harvest Window": "‡§ï‡§ü‡§æ‡§à ‡§ï‡§æ ‡§∏‡§Æ‡§Ø",
    "Mandi Ranker": "‡§Æ‡§Ç‡§°‡•Ä ‡§∞‡•à‡§Ç‡§ï‡§∞",
    "Spoilage Assessor": "‡§ñ‡§∞‡§æ‡§¨‡•Ä ‡§Ü‡§ï‡§≤‡§®‡§ï‡§∞‡•ç‡§§‡§æ",
    "Home": "‡§π‡•ã‡§Æ",
    # Inputs
    "Select Crop": "‡§´‡§∏‡§≤ ‡§ö‡•Å‡§®‡•á‡§Ç",
    "Select District": "‡§ú‡§ø‡§≤‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç",
    "Sowing Date": "‡§¨‡•Å‡§Ü‡§à ‡§ï‡•Ä ‡§§‡§æ‡§∞‡•Ä‡§ñ",
    "Quantity (Quintals)": "‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ (‡§ï‡•ç‡§µ‡§ø‡§Ç‡§ü‡§≤)",
    "Storage Type": "‡§≠‡§Ç‡§°‡§æ‡§∞‡§£ ‡§ï‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞",
    "Transit Duration (Hours)": "‡§™‡§∞‡§ø‡§µ‡§π‡§® ‡§Ö‡§µ‡§ß‡§ø (‡§ò‡§Ç‡§ü‡•á)",
    "Get Recommendation": "‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∂ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç",
    "Find Best Mandis": "‡§∏‡§∞‡•ç‡§µ‡§∂‡•ç‡§∞‡•á‡§∑‡•ç‡§† ‡§Æ‡§Ç‡§°‡•Ä ‡§ñ‡•ã‡§ú‡•á‡§Ç",
    "Assess Spoilage Risk": "‡§ñ‡§∞‡§æ‡§¨‡•Ä ‡§ï‡§æ ‡§ú‡•ã‡§ñ‡§ø‡§Æ ‡§Ü‡§ï‡§≤‡§® ‡§ï‡§∞‡•á‡§Ç",
    # Harvest
    "Best Harvest Window": "‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§ï‡§ü‡§æ‡§à ‡§∏‡§Æ‡§Ø",
    "Expected Price Premium": "‡§Ö‡§®‡•Å‡§Æ‡§æ‡§®‡§ø‡§§ ‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø",
    "High": "‡§Ö‡§ß‡§ø‡§ï",
    "Medium": "‡§Æ‡§ß‡•ç‡§Ø‡§Æ",
    "Low": "‡§ï‡§Æ",
    "Confidence": "‡§µ‡§ø‡§∂‡•ç‡§µ‡§æ‡§∏",
    "Why this recommendation?": "‡§Ø‡§π ‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∂ ‡§ï‡•ç‡§Ø‡•ã‡§Ç?",
    "14-Day Price Trend": "14-‡§¶‡§ø‡§® ‡§ï‡•Ä ‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§™‡•ç‡§∞‡§µ‡•É‡§§‡•ç‡§§‡§ø",
    "Weather Forecast": "‡§Æ‡•å‡§∏‡§Æ ‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§®‡•Å‡§Æ‡§æ‡§®",
    "Score Breakdown": "‡§∏‡•ç‡§ï‡•ã‡§∞ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£",
    "Price Seasonality": "‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§Æ‡•å‡§∏‡§Æ‡•Ä",
    "Weather Score": "‡§Æ‡•å‡§∏‡§Æ ‡§∏‡•ç‡§ï‡•ã‡§∞",
    "Soil Readiness": "‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§§‡§§‡•ç‡§™‡§∞‡§§‡§æ",
    "Harvest Score": "‡§ï‡§ü‡§æ‡§à ‡§∏‡•ç‡§ï‡•ã‡§∞",
    # Mandi
    "Recommended Mandi": "‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§Æ‡§Ç‡§°‡•Ä",
    "Expected Price": "‡§Ö‡§™‡•á‡§ï‡•ç‡§∑‡§ø‡§§ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø",
    "Transport Cost": "‡§™‡§∞‡§ø‡§µ‡§π‡§® ‡§≤‡§æ‡§ó‡§§",
    "Net Profit per Qtl": "‡§™‡•ç‡§∞‡§§‡§ø ‡§ï‡•ç‡§µ‡§ø‡§Ç‡§ü‡§≤ ‡§∂‡•Å‡§¶‡•ç‡§ß ‡§≤‡§æ‡§≠",
    "Distance": "‡§¶‡•Ç‡§∞‡•Ä",
    "Why this mandi?": "‡§Ø‡§π ‡§Æ‡§Ç‡§°‡•Ä ‡§ï‡•ç‡§Ø‡•ã‡§Ç?",
    "Mandi Net Profit Comparison": "‡§Æ‡§Ç‡§°‡•Ä ‡§∂‡•Å‡§¶‡•ç‡§ß ‡§≤‡§æ‡§≠ ‡§§‡•Å‡§≤‡§®‡§æ",
    "Total Earnings": "‡§ï‡•Å‡§≤ ‡§ï‡§Æ‡§æ‡§à",
    # Spoilage
    "Spoilage Risk": "‡§ñ‡§∞‡§æ‡§¨‡•Ä ‡§ï‡§æ ‡§ú‡•ã‡§ñ‡§ø‡§Æ",
    "Spoilage Probability": "‡§ñ‡§∞‡§æ‡§¨‡•Ä ‡§ï‡•Ä ‡§∏‡§Ç‡§≠‡§æ‡§µ‡§®‡§æ",
    "Recommended Actions": "‡§Ö‡§®‡•Å‡§∂‡§Ç‡§∏‡§ø‡§§ ‡§ï‡§æ‡§∞‡•ç‡§∞‡§µ‡§æ‡§à",
    "Action": "‡§ï‡§æ‡§∞‡•ç‡§∞‡§µ‡§æ‡§à",
    "Cost": "‡§≤‡§æ‡§ó‡§§",
    "Effectiveness": "‡§™‡•ç‡§∞‡§≠‡§æ‡§µ‡§∂‡•Ä‡§≤‡§§‡§æ",
    "Full Input Summary": "‡§™‡•Ç‡§∞‡•ç‡§£ ‡§á‡§®‡§™‡•Å‡§ü ‡§∏‡§æ‡§∞‡§æ‡§Ç‡§∂",
    # Risk
    "HIGH": "‡§Ö‡§ß‡§ø‡§ï üî¥",
    "MEDIUM": "‡§Æ‡§ß‡•ç‡§Ø‡§Æ üü°",
    "LOW": "‡§ï‡§Æ üü¢",
    # Storage
    "Open (Field)": "‡§ñ‡•Å‡§≤‡§æ (‡§ñ‡•á‡§§)",
    "Warehouse": "‡§ó‡•ã‡§¶‡§æ‡§Æ",
    "Cold Storage": "‡§∂‡•Ä‡§§ ‡§≠‡§Ç‡§°‡§æ‡§∞",
    # General
    "Language": "‡§≠‡§æ‡§∑‡§æ",
    "Loading data...": "‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...",
    "days": "‡§¶‡§ø‡§®",
    "km": "‡§ï‡§ø.‡§Æ‡•Ä",
    "per quintal": "‡§™‡•ç‡§∞‡§§‡§ø ‡§ï‡•ç‡§µ‡§ø‡§Ç‡§ü‡§≤",
}

_MARATHI = {
    # Navigation
    "AgriChain": "‡§Ö‚Äç‡•Ö‡§ó‡•ç‡§∞‡•Ä‡§ö‡•á‡§®",
    "Harvest Window": "‡§ï‡§æ‡§™‡§£‡•Ä‡§ö‡§æ ‡§ï‡§æ‡§≥",
    "Mandi Ranker": "‡§Æ‡§Ç‡§°‡•Ä ‡§∞‡§Å‡§ï‡§∞",
    "Spoilage Assessor": "‡§®‡§æ‡§∂‡§ø‡§µ‡§Ç‡§§ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø‡§æ‡§Ç‡§ï‡§®",
    "Home": "‡§Æ‡•Å‡§ñ‡§™‡•É‡§∑‡•ç‡§†",
    # Inputs
    "Select Crop": "‡§™‡•Ä‡§ï ‡§®‡§ø‡§µ‡§°‡§æ",
    "Select District": "‡§ú‡§ø‡§≤‡•ç‡§π‡§æ ‡§®‡§ø‡§µ‡§°‡§æ",
    "Sowing Date": "‡§™‡•á‡§∞‡§£‡•Ä‡§ö‡•Ä ‡§§‡§æ‡§∞‡•Ä‡§ñ",
    "Quantity (Quintals)": "‡§™‡•ç‡§∞‡§Æ‡§æ‡§£ (‡§ï‡•ç‡§µ‡§ø‡§Ç‡§ü‡§≤)",
    "Storage Type": "‡§∏‡§æ‡§†‡§µ‡§£‡•Å‡§ï‡•Ä‡§ö‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞",
    "Transit Duration (Hours)": "‡§µ‡§æ‡§π‡§§‡•Ç‡§ï ‡§ï‡§æ‡§≤‡§æ‡§µ‡§ß‡•Ä (‡§§‡§æ‡§∏)",
    "Get Recommendation": "‡§∂‡§ø‡§´‡§æ‡§∞‡§∏ ‡§Æ‡§ø‡§≥‡§µ‡§æ",
    "Find Best Mandis": "‡§∏‡§∞‡•ç‡§µ‡•ã‡§§‡•ç‡§§‡§Æ ‡§Æ‡§Ç‡§°‡•Ä ‡§∂‡•ã‡§ß‡§æ",
    "Assess Spoilage Risk": "‡§®‡§æ‡§∂‡§ø‡§µ‡§Ç‡§§ ‡§ß‡•ã‡§ï‡§æ ‡§§‡§™‡§æ‡§∏‡§æ",
    # Harvest
    "Best Harvest Window": "‡§∏‡§∞‡•ç‡§µ‡•ã‡§§‡•ç‡§§‡§Æ ‡§ï‡§æ‡§™‡§£‡•Ä‡§ö‡§æ ‡§ï‡§æ‡§≥",
    "Expected Price Premium": "‡§Ö‡§™‡•á‡§ï‡•ç‡§∑‡§ø‡§§ ‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‡§ï‡§ø‡§Ç‡§Æ‡§§",
    "High": "‡§ú‡§æ‡§∏‡•ç‡§§",
    "Medium": "‡§Æ‡§ß‡•ç‡§Ø‡§Æ",
    "Low": "‡§ï‡§Æ‡•Ä",
    "Confidence": "‡§Ü‡§§‡•ç‡§Æ‡§µ‡§ø‡§∂‡•ç‡§µ‡§æ‡§∏",
    "Why this recommendation?": "‡§π‡•Ä ‡§∂‡§ø‡§´‡§æ‡§∞‡§∏ ‡§ï‡§æ?",
    "14-Day Price Trend": "‡•ß‡•™-‡§¶‡§ø‡§µ‡§∏‡§æ‡§Ç‡§ö‡•Ä ‡§ï‡§ø‡§Ç‡§Æ‡§§ ‡§™‡•ç‡§∞‡§µ‡•É‡§§‡•ç‡§§‡•Ä",
    "Weather Forecast": "‡§π‡§µ‡§æ‡§Æ‡§æ‡§® ‡§Ö‡§Ç‡§¶‡§æ‡§ú",
    "Score Breakdown": "‡§ó‡•Å‡§£ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£",
    "Price Seasonality": "‡§ï‡§ø‡§Ç‡§Æ‡§§ ‡§π‡§Ç‡§ó‡§æ‡§Æ‡•Ä‡§§‡§æ",
    "Weather Score": "‡§π‡§µ‡§æ‡§Æ‡§æ‡§® ‡§ó‡•Å‡§£",
    "Soil Readiness": "‡§Æ‡§æ‡§§‡•Ä ‡§§‡§Ø‡§æ‡§∞‡•Ä",
    "Harvest Score": "‡§ï‡§æ‡§™‡§£‡•Ä ‡§ó‡•Å‡§£",
    # Mandi
    "Recommended Mandi": "‡§∂‡§ø‡§´‡§æ‡§∞‡§∏ ‡§ï‡•á‡§≤‡•á‡§≤‡•Ä ‡§Æ‡§Ç‡§°‡•Ä",
    "Expected Price": "‡§Ö‡§™‡•á‡§ï‡•ç‡§∑‡§ø‡§§ ‡§ï‡§ø‡§Ç‡§Æ‡§§",
    "Transport Cost": "‡§µ‡§æ‡§π‡§§‡•Ç‡§ï ‡§ñ‡§∞‡•ç‡§ö",
    "Net Profit per Qtl": "‡§™‡•ç‡§∞‡§§‡§ø ‡§ï‡•ç‡§µ‡§ø‡§Ç‡§ü‡§≤ ‡§®‡§ø‡§µ‡•ç‡§µ‡§≥ ‡§®‡§´‡§æ",
    "Distance": "‡§Ö‡§Ç‡§§‡§∞",
    "Why this mandi?": "‡§π‡•Ä ‡§Æ‡§Ç‡§°‡•Ä ‡§ï‡§æ?",
    "Mandi Net Profit Comparison": "‡§Æ‡§Ç‡§°‡•Ä ‡§®‡§ø‡§µ‡•ç‡§µ‡§≥ ‡§®‡§´‡§æ ‡§§‡•Å‡§≤‡§®‡§æ",
    "Total Earnings": "‡§è‡§ï‡•Ç‡§£ ‡§ï‡§Æ‡§æ‡§à",
    # Spoilage
    "Spoilage Risk": "‡§®‡§æ‡§∂‡§æ‡§ö‡§æ ‡§ß‡•ã‡§ï‡§æ",
    "Spoilage Probability": "‡§®‡§æ‡§∂‡§æ‡§ö‡•Ä ‡§∂‡§ï‡•ç‡§Ø‡§§‡§æ",
    "Recommended Actions": "‡§∂‡§ø‡§´‡§æ‡§∞‡§∏ ‡§ï‡•á‡§≤‡•á‡§≤‡•ç‡§Ø‡§æ ‡§ï‡•É‡§§‡•Ä",
    "Action": "‡§ï‡•É‡§§‡•Ä",
    "Cost": "‡§ñ‡§∞‡•ç‡§ö",
    "Effectiveness": "‡§™‡§∞‡§ø‡§£‡§æ‡§Æ‡§ï‡§æ‡§∞‡§ï‡§§‡§æ",
    "Full Input Summary": "‡§∏‡§Ç‡§™‡•Ç‡§∞‡•ç‡§£ ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä ‡§∏‡§æ‡§∞‡§æ‡§Ç‡§∂",
    # Risk
    "HIGH": "‡§ú‡§æ‡§∏‡•ç‡§§ üî¥",
    "MEDIUM": "‡§Æ‡§ß‡•ç‡§Ø‡§Æ üü°",
    "LOW": "‡§ï‡§Æ‡•Ä üü¢",
    # Storage
    "Open (Field)": "‡§â‡§ò‡§°‡•á (‡§∂‡•á‡§§)",
    "Warehouse": "‡§ó‡•ã‡§¶‡§æ‡§Æ",
    "Cold Storage": "‡§∂‡•Ä‡§§‡§ó‡•É‡§π",
    # General
    "Language": "‡§≠‡§æ‡§∑‡§æ",
    "Loading data...": "‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§π‡•ã‡§§ ‡§Ü‡§π‡•á...",
    "days": "‡§¶‡§ø‡§µ‡§∏",
    "km": "‡§ï‡§ø.‡§Æ‡•Ä",
    "per quintal": "‡§™‡•ç‡§∞‡§§‡§ø ‡§ï‡•ç‡§µ‡§ø‡§Ç‡§ü‡§≤",
}

LANG_OPTIONS  = ["English", "‡§π‡§ø‡§Ç‡§¶‡•Ä", "‡§Æ‡§∞‡§æ‡§†‡•Ä"]
LANG_CODES    = {"English": "en", "‡§π‡§ø‡§Ç‡§¶‡•Ä": "hi", "‡§Æ‡§∞‡§æ‡§†‡•Ä": "mr"}
LANG_REVERSE  = {v: k for k, v in LANG_CODES.items()}


def translate(text: str, lang: str = "en") -> str:
    """Return translated text for the given language code."""
    if lang == "hi":
        return _HINDI.get(text, text)
    if lang == "mr":
        return _MARATHI.get(text, text)
    return text


def t(text: str, lang: str = "en") -> str:
    return translate(text, lang)


def render_lang_sidebar(default: str = "en") -> str:
    """
    Renders the language radio in the sidebar.
    Persists choice in st.session_state['lang'] so it survives page navigation.
    Returns the current language code ('en', 'hi', 'mr').
    """
    import streamlit as st

    # Initialise session state on first run
    if "lang" not in st.session_state:
        st.session_state["lang"] = default

    # Map current code ‚Üí display label for radio index
    current_label = LANG_REVERSE.get(st.session_state["lang"], "English")
    idx = LANG_OPTIONS.index(current_label) if current_label in LANG_OPTIONS else 0

    selected = st.sidebar.radio(
        "üåê ‡§≠‡§æ‡§∑‡§æ / Language / ‡§≠‡§æ‡§∑‡§æ",
        LANG_OPTIONS,
        index=idx,
        key="lang_radio_global",
    )
    st.session_state["lang"] = LANG_CODES[selected]
    return st.session_state["lang"]
